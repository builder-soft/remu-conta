DROP PROCEDURE if exists remcon.pDelEmployee;
DELIMITER $$

CREATE PROCEDURE remcon.pDelEmployee(IN pEmployee BIGINT)
BEGIN
	SELECT	cId INTO @agreement 
	FROM	tAgreement 
	WHERE	cEmployee = pEmployee;

	DELETE
	FROM 		remcon.tR_AgreementAPV
	WHERE		cAgreement = @agreement;
	
	DELETE
	FROM 		remcon.tAgreement
	WHERE		cEmployee = pEmployee;

	DELETE
	FROM 		remcon.tEmployee
	WHERE		cId = pEmployee;
END$$

DELIMITER ;
 
