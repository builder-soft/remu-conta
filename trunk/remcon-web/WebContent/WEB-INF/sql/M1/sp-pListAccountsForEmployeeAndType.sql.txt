DROP PROCEDURE if exists remcon.pGetAccountsForEmployee;
DROP PROCEDURE if exists remcon.pGetAccountsForEmployeeAndTypeBoard;
DROP PROCEDURE if exists remcon.pListAccountsForEmployeeAndType;
DELIMITER $$

/*
CREATE PROCEDURE remcon.pListAccountsForEmployeeAndType(IN pEmployee BIGINT, IN pType VARCHAR(15))
Obtiene las cuentas asociadas al empleado por el tipo, APV, CCT2, etc.

BEGIN
	SELECT		a.cId, a.cInstitution, a.cNumber, a.cCurrency, a.cAmount, 
				b.cKey AS cKeyInstitution, b.cValue as cNameInstitution,
				c.cKey AS cKeyCurrency, c.cValue as cNameCurrency
	FROM 		remcon.tAccount	AS a
	LEFT JOIN	remcon.tBoard	AS b ON a.cInstitution = b.cId
	LEFT JOIN	remcon.tBoard	AS c ON a.cCurrency = c.cId
	WHERE		cEmployee = pEmployee AND b.cType = pType
	ORDER BY	cCurrency;
END$$
*/
DELIMITER ;

