USE bsframework;

/**
* http://www.mysqltutorial.org/mysql-stored-procedure-tutorial.aspx
* 
* http://dev.mysql.com/doc/refman/5.5/en/connector-j-reference-type-conversions.html
* Los tipos de datos que vamos a usar...
* MYSQL					Java
* -----------------------------------------------
* BIT					java.lang.Boolean
* INTEGER [UNSIGNED]	java.lang.Integer, if UNSIGNED java.lang.Long
* BIGINT [UNSIGNED]		java.lang.Long, if UNSIGNED java.math.BigInteger
* DOUBLE				java.lang.Double
* DATE					java.sql.Date
* TIMESTAMP				java.sql.Timestamp
* VARCHAR				java.lang.String
* LONGTEXT				java.lang.String
*/

CREATE TABLE IF NOT EXISTS tUser (
	cId			BIGINT  NOT NULL AUTO_INCREMENT PRIMARY KEY,
	cMail 		VARCHAR(50) NOT NULL UNIQUE,
	cName		VARCHAR(100) NOT NULL,
	cPassword	VARCHAR(64) NOT NULL,
	cAdmin		BIT			NOT NULL DEFAULT 0	
) ENGINE=innoDB;

CREATE TABLE IF NOT EXISTS tDomain (
	cId			BIGINT  NOT NULL AUTO_INCREMENT PRIMARY KEY,
	cName		VARCHAR(100) NULL,
	cAlias		VARCHAR(15) NULL	
) ENGINE=innoDB;

CREATE TABLE IF NOT EXISTS tR_UserDomain (
	cUser		BIGINT  NOT NULL,
	cDomain		BIGINT  NOT NULL	
) ENGINE=innoDB;


CREATE TABLE IF NOT EXISTS tDomainAttribute (
	cId			BIGINT  NOT NULL AUTO_INCREMENT PRIMARY KEY,
	cDomain		BIGINT  NOT NULL,
	cKey		VARCHAR(20) NULL,
	cName		VARCHAR(20) NULL,
	cValue		VARCHAR(50) NULL
) ENGINE=innoDB;

