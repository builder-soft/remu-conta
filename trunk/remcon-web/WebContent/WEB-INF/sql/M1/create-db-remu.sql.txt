use remu;

/* Crea tabla Empleados */
create table tEmployee (
	cId				BIGINT(20)  NOT NULL auto_increment, 
	cRut			VARCHAR(11) NOT NULL unique,
	cName			VARCHAR(20) NOT NULL,
	cLastName1		VARCHAR(20) NOT NULL,
	cLastName2		VARCHAR(20) NOT NULL,
	cBirthDate		DATE,
	cAddress		VARCHAR(100),
	cGenere			BIGINT(20) NOT NULL,
	cComuna			BIGINT(20) NOT NULL,
	cCountry		BIGINT(20) NOT NULL,
	cPhone			VARCHAR(10),
	cMaritalStatus	BIGINT(20) NOT NULL,
	cMovil			VARCHAR(10),
	cEmail			VARCHAR(50),
	cCostCenter		BIGINT(20) NOT NULL,
	cContractType	BIGINT(20) NOT NULL,
	cProfile		BIGINT(20) NOT NULL COMMENT 'Cargo de la persona',
	cAFP			BIGINT(20) NOT NULL,
	PRIMARY KEY (cId)
) ENGINE=InnoDB;

create table tEnterprise (
	cId					BIGINT(20)  NOT NULL auto_increment, 
	cRut				VARCHAR(11) NOT NULL UNIQUE,
	cName				VARCHAR(30) NOT NULL  COMMENT 'Nombre o razon social',
	cLegalRep			VARCHAR(50) NOT NULL  COMMENT 'Representante legal',
	cRutLegalRep		VARCHAR(11) NOT NULL  COMMENT 'Rut del representante legal',
	cCategory			VARCHAR(50)  COMMENT 'Giro o Rubro',
	cAddress			VARCHAR(100),
	cComuna				BIGINT(20) NOT NULL,
	cPhone				VARCHAR(10),
	cMutual				BIGINT(20) NOT NULL,
	cMutualFactor		DOUBLE  COMMENT 'Factor Mutual',
	cCompensationFund	BIGINT(20) NOT NULL COMMENT 'Caja de compensacion',
	PRIMARY KEY (cId)
) ENGINE=InnoDB;

create table tMutual (
	cId					BIGINT(20) NOT NULL auto_increment, 
	cName				VARCHAR(40) NOT NULL,
	PRIMARY KEY (cId)
) ENGINE=InnoDB;

create table tCompensationFund (
	cId					BIGINT(20) NOT NULL auto_increment, 
	cName				VARCHAR(20) NOT NULL,
	PRIMARY KEY (cId)
) ENGINE=InnoDB;

create table tCostCenter(
	cId 				BIGINT(20) NOT NULL auto_increment, 
	cName				VARCHAR(20) NOT NULL,
	cEnterprise			BIGINT(20) NOT NULL,
	PRIMARY KEY (cId)
) ENGINE=InnoDB;

create table tContractType(
	cId 				BIGINT(20) NOT NULL auto_increment, 
	cName				VARCHAR(20) NOT NULL,
	cBody				LONGTEXT,
	PRIMARY KEY (cId)
) ENGINE=InnoDB;

create table tProfile (
	cId				BIGINT(20)  NOT NULL auto_increment, 
	cName			VARCHAR(20) NOT NULL,
	cCostCenter		BIGINT(20) NOT NULL,
	PRIMARY KEY (cId)
) ENGINE=InnoDB;

create table tAFP (
	cId				BIGINT(20) NOT NULL auto_increment, 
	cKey			INTEGER	NOT NULL UNIQUE,
	cName			VARCHAR(20) NOT NULL,
	cFactor			DOUBLE NOT NULL,
	cSIS			DOUBLE NOT NULL,
	PRIMARY KEY (cId)
) ENGINE=InnoDB;

create table tR_EmployeeAccount (
	cEmployee			BIGINT(20) NOT NULL, 
	cAccount			BIGINT(20) NOT NULL ,
	PRIMARY KEY (cEmployee, cAccount)
) ENGINE=InnoDB;

create table tAccount (
	cId			BIGINT(20) NOT NULL auto_increment,
	cName		VARCHAR(50) NOT NULL,  
	cBank		BIGINT(20) NOT NULL,
	cNumber		VARCHAR(15) NOT NULL,
	cCurrency	BIGINT(20) NOT NULL,
	PRIMARY KEY (cId)
) ENGINE=InnoDB;
