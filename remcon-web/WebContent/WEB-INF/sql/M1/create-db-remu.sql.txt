use remu;

/* Crea tabla Empleados */
create table tEmployee (
	cId				BIGINT(20)  NOT NULL auto_increment, 
	cRut			VARCHAR(11) NOT NULL unique,
	cName			VARCHAR(20) NOT NULL,
	cLastName1		VARCHAR(20) NOT NULL,
	cLastName2		VARCHAR(20) NOT NULL,
	cBirthDate		DATE COMMENT 'Fecha de nacimiento',
	cAddress		VARCHAR(100) COMMENT 'Direccion particular',
	cGenere			BIGINT(20) NOT NULL COMMENT 'Genero Femenino o Masculino',
	cComuna			BIGINT(20) NOT NULL,
	cCountry		BIGINT(20) NOT NULL COMMENT 'Nacionalidad',
	cPhone			VARCHAR(10),
	cMaritalStatus	BIGINT(20) NOT NULL COMMENT 'Estado Civil',
	cMovil			VARCHAR(10),
	cEmail			VARCHAR(50),
	cContractType	BIGINT(20) NOT NULL COMMENT 'Tipo de contrato: fijo o indefinido',
	cStartContract	DATE NOT NULL COMMENT 'Inicio de contrato',
	cEndContract	DATE NULL COMMENT 'Fin de contrato',
	cProfile		BIGINT(20) NOT NULL COMMENT 'Cargo de la persona',
	cAFP			BIGINT(20) NOT NULL,
	cIsapre			BIGINT(20) NOT NULL,
	cUnemploymentInsurance	BIT NOT NULL DEFAULT 0 COMMENT 'Seguro de cesantia',
	cGratificationType	BIGINT(20) NOT NULL COMMENT 'Tipo de gratificacion',
	cPaymentType	BIGINT(20) NOT NULL COMMENT 'Tipo de pago',
	cCurrency		BIGINT(20) NOT NULL,
	cMobilization	DOUBLE COMMENT 'Movilizacion',
	cFeeding		DOUBLE COMMENT 'Alimentacion',
	PRIMARY KEY (cId)
) ENGINE=InnoDB;

create table tEnterprise (
	cId					BIGINT(20)  NOT NULL auto_increment, 
	cRut				VARCHAR(11) NOT NULL UNIQUE,
	cName				VARCHAR(30) NOT NULL  COMMENT 'Nombre o razon social',
	cLegalRep			VARCHAR(50) NOT NULL  COMMENT 'Representante legal',
	cRutLegalRep		VARCHAR(11) NOT NULL  COMMENT 'Rut del representante legal',
	cCategory			VARCHAR(50)  COMMENT 'Giro o Rubro',
	cAddress			VARCHAR(100),
	cComuna				BIGINT(20) NOT NULL,
	cPhone				VARCHAR(10),
	cMutual				BIGINT(20) NOT NULL,
	cMutualFactor		DOUBLE COMMENT 'Factor Mutual',
	cCompensationFund	BIGINT(20) NOT NULL COMMENT 'Caja de compensacion',
	PRIMARY KEY (cId)
) ENGINE=InnoDB;

create table tMutual (
	cId					BIGINT(20) NOT NULL auto_increment, 
	cName				VARCHAR(40) NOT NULL,
	PRIMARY KEY (cId)
) ENGINE=InnoDB;

create table tCompensationFund (
	cId					BIGINT(20) NOT NULL auto_increment, 
	cName				VARCHAR(20) NOT NULL,
	PRIMARY KEY (cId)
) ENGINE=InnoDB;

create table tCostCenter(
	cId 				BIGINT(20) NOT NULL auto_increment, 
	cName				VARCHAR(20) NOT NULL,
	cEnterprise			BIGINT(20) NOT NULL,
	PRIMARY KEY (cId)
) ENGINE=InnoDB;

create table tContractType(
	cId 				BIGINT(20) NOT NULL auto_increment, 
	cName				VARCHAR(20) NOT NULL,
	cBody				LONGTEXT,
	PRIMARY KEY (cId)
) ENGINE=InnoDB;

create table tProfile (
	cId				BIGINT(20) NOT NULL auto_increment, 
	cName			VARCHAR(20) NOT NULL,
	cCostCenter		BIGINT(20) NOT NULL,
	cCompanyCost	DOUBLE NOT NULL,
	PRIMARY KEY (cId)
) ENGINE=InnoDB;

create table tAFP (
	cId				BIGINT(20) NOT NULL auto_increment, 
	cKey			INTEGER	NOT NULL UNIQUE,
	cName			VARCHAR(20) NOT NULL,
	cFactor			DOUBLE NOT NULL,
	cSIS			DOUBLE NOT NULL,
	PRIMARY KEY (cId)
) ENGINE=InnoDB;

create table tIsapre (
	cId				BIGINT(20) NOT NULL auto_increment, 
	cKey			INTEGER	NOT NULL UNIQUE,
	cName			VARCHAR(20) NOT NULL,
	PRIMARY KEY (cId)
) ENGINE=InnoDB;

create table tR_EmployeeAccount (
	cEmployee		BIGINT(20) NOT NULL, 
	cAccount		BIGINT(20) NOT NULL,
	
	PRIMARY KEY (cEmployee, cAccount)
) ENGINE=InnoDB;

create table tAccount (
	cId			BIGINT(20) NOT NULL auto_increment,
	cName		VARCHAR(50) NOT NULL,  
	cTarget		BIGINT(20) NOT NULL,
	cNumber		VARCHAR(15) NOT NULL,
	cCurrency	BIGINT(20) NOT NULL,
	PRIMARY KEY (cId)
) ENGINE=InnoDB;

create table tGratificationType(
	cId			BIGINT(20) NOT NULL auto_increment,
	cName		VARCHAR(50) NOT NULL,
	PRIMARY KEY (cId)
) ENGINE=InnoDB;

create table tPaymentType(
	cId			BIGINT(20) NOT NULL auto_increment,
	cName		VARCHAR(15) NOT NULL,
	PRIMARY KEY (cId)
) ENGINE=InnoDB;
